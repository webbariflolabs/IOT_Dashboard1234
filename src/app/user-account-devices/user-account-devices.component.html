
<body class="main-container">
  <mat-toolbar class="mb-0 d-flex flex-row justify-content-between" >
    <div class="d-flex flex-row">
      <div class="d-flex flex-column justify-content-center" (click)="opened=!opened">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </div>
      <div class="d-flex flex-row">
      <h1 class="mb-0 mt-2 mx-1 top-heading">Bariflo Labs</h1>
    </div>
    </div>
      <div class="d-flex flex-row">
        <button class="name-icon mx-3" [matMenuTriggerFor]="menu">{{(userNameProfile | uppercase).split(' ')[0][0]+(userNameProfile| uppercase).split(' ')[1][0]}}</button>
        <mat-menu #menu="matMenu">
          <!-- <button mat-menu-item>Profile</button> -->
          <button mat-menu-item (click)="onLogout()">Logout</button>
        </mat-menu>
        
        <button class="username" [matMenuTriggerFor]="menu">

          {{(userNameProfile | uppercase).split(' ')[0][0]+(userNameProfile.split(' ')[0].slice(1))+' '+(userNameProfile| uppercase).split(' ')[1][0]+(userNameProfile.split(' ')[1].slice(1))}} </button>
        <mat-menu #menu="matMenu">
          <!-- <button mat-menu-item>Profile</button> -->
          <button mat-menu-item (click)="onLogout1()">Logout</button>
        </mat-menu>
      </div>
  </mat-toolbar>
 
     <mat-sidenav-container>
         <mat-sidenav mode="side" [(opened)]="opened">
          <mat-nav-list>  
            <!-- Menu item with a sub-menu -->
           <!-- <mat-list-item>
              <a mat-list-item href="dashboard"><i class="bi bi-house-fill icon-size"></i> Accounts</a>
            </mat-list-item>
            <hr class="my-0">-->
            <mat-list-item>
              <a mat-list-item href="admin-users"><i class="bi bi-people-fill"></i> Users</a>
            </mat-list-item>
            <hr class="my-0">
            <!-- <mat-list-item>
              <a mat-list-item href="users-check"><i class="bi bi-person-check check-size"></i> Users Check</a>
            </mat-list-item> -->
            <!-- <mat-list-item>
              <a mat-list-item href="admin-new-device"><i class="bi bi-plus-square-fill"></i> New Devices</a>
            </mat-list-item>
            <hr class="my-0"> -->
            <hr class="my-0">
            <mat-list-item class="mx-3" (click)="toggleSubMenu('submenu1')">
              <span><i class="bi bi-gear-fill"></i> Settings</span>
              
            </mat-list-item>
            <mat-list-item *ngIf="isSubMenuOpen('submenu1')">
              <a mat-list-item href="admin-device-types">Device Types</a>
             
            </mat-list-item>
          </mat-nav-list>
         </mat-sidenav>
         <mat-sidenav-content>
          <button class="btn btn-primary" (click)="openDialog7()">New Device</button>
          <hr>
         <div class="row">
          <div class="col-lg-6 mb-3" *ngFor = "let device of devicedetails.result; let i = index"  >
            <mat-card>   
              <div class="device-content" >
                <div class="d-flex flex-column">
                <p class="device-head mx-3 my-2">Device</p>
                <!-- <button (click)="onButtonChange()" *ngIf="onOff" class="btn off-button my-1 mx-4"><i class="bi bi-square-fill square-on"></i> ON</button> -->
                <button (click)="onButtonChange(i)" class="btn off-button my-1 mx-4">
                  <!-- <i class="bi bi-square-fill " [ngClass]="{'square-on':cardStates[i], 'square': !cardStates[i]}"></i>
                  {{ cardStates[i] ? 'ON' : 'OFF' }} -->OFF
                </button>
                
              </div>
                 
                  <div class="my-3 mx-2">
                <button class="btn btn-warning mx-1" (click)="onEditDevice(device)"><i class="bi bi-pencil-square mx-1" ></i></button>
                                  <button (click)="onDeleteDevice(device[0])" class="btn btn-danger mx-2"><i class="bi bi-trash"></i></button>
                                  <button  class="btn btn-primary mx-2"><i class="bi bi-grid-fill" ></i></button>
                </div>
            </div>
              <hr>
              <mat-card-content>
                <div class="d-flex flex-row justify-content-between">
                  <span>Device Id </span>
                  <span>{{device[0]}}</span>
                </div>
                  <hr>
                  <div class="d-flex flex-row justify-content-between">
                  <span>Device Name</span>
                  <span>{{device[1]}}</span>
                </div>
                  <hr>
                  <div class="d-flex flex-row justify-content-between">
                  <span>Device Type</span>
                  <span>{{device[2]}}</span>
                </div>
                  <hr>
                  <div class="d-flex flex-row justify-content-between">
                    <span>Device Version</span>
                    <span>{{device[3]}}</span>
                  </div>
                  <hr>
                  <span>
                    <button class="btn-success btn" (click)="onClickControls(device)">CONTROLS</button>
                    <button class="btn stats-color mx-3"(click)="onClick8(device[0])">STATS</button>
                  </span>
              </mat-card-content>
            </mat-card>
          </div>


     

    </div>
    </mat-sidenav-content>
    </mat-sidenav-container>
    <nav class="navbar fixed-bottom footer">
      <div class="container-fluid d-flex flex-row justify-content-between">
        <a class="navbar-brand mx-3"><h1 class="footer-heading"><span><i class="bi bi-c-circle copyright"></i> </span><span class="year"> 2021-2022</span> Bariflo Labs Limited. All rights reserved.</h1></a>
        <img src="./assets/img/Asset1.png" class="justify-content-center align-items-center mx-2" style="width: 40px; height: 40px;">
      </div>


    </nav>

</body>